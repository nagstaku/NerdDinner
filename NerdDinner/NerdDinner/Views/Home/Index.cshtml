@model IPagedList<Meeting>
@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <h1>Welcome to Nerd Dinner!</h1>
    <p class="lead">
        This project is a re-write of the popular Nerd Dinner MVC application using MVC 5 and Entity Framework 6. It is primarily
        a portfolio project for myself but feel free to download and fork it on GitHub! @if (null != ViewBag.Message)
        {
            @ViewBag.Message
        }
    </p>
    <p><a href="https://github.com/nagstaku/NerdDinner" class="btn btn-primary btn-large">GitHub &raquo;</a></p>
</div>

<div class="row">
    <div class="col-md-5">
        @Html.Partial("_Dinners", Model)
        @Html.PagedListPager(Model, page => Url.Action("Index", new { page }), PagedListRenderOptions.TwitterBootstrapPagerAligned)
    </div>

    <div class="col-md-7 well">
        <div id="map-canvas" style="height: 447px; max-width: none;"></div>
    </div>
</div>
<br />

@section Scripts {
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>
        var map;
        function initialize() {
            var mapOptions = {
                center: new google.maps.LatLng(37.09024, -96.712891),
                zoom: 3
            };
            map = new google.maps.Map(document.getElementById("map-canvas"),
                mapOptions);
            var markerRed = new google.maps.Marker({
                position: new google.maps.LatLng(
                    Number(document.getElementById("address-0-Lat").value),
                    Number(document.getElementById("address-0-Lng").value)
                    ),
                map: map
            });
            var markerGreen = new google.maps.Marker({
                position: new google.maps.LatLng(
                    Number(document.getElementById("address-1-Lat").value),
                    Number(document.getElementById("address-1-Lng").value)
                    ),
                map: map,
                icon: 'http://maps.gstatic.com/mapfiles/markers2/icon_green.png'
            });
            var markerBlue = new google.maps.Marker({
                position: new google.maps.LatLng(
                    Number(document.getElementById("address-2-Lat").value),
                    Number(document.getElementById("address-2-Lng").value)
                    ),
                map: map,
                icon: 'http://maps.gstatic.com/mapfiles/markers2/boost-marker-mapview.png'
            });
        }
        function findEvent(lat, lng) {
            map.panTo(new google.maps.LatLng(lat, lng));
            map.setZoom(4);
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    <script>
        $(".modal-target").click(function () {
            $(this).parent().next().modal('show');
        });
    </script>
}

